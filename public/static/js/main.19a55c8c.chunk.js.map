{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/InfoTooltip.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","location","useLocation","className","isLoggedIn","userEmail","onClick","evt","preventDefault","onClickQuit","href","target","pathname","includes","onClickRegister","onClickLogin","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onCardDelete","alt","name","src","link","onCardClick","onCardLike","length","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","PopupWithForm","isOpen","onClose","title","onSubmit","noValidate","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","value","onChange","id","required","minLength","maxLength","EditAvatarPopup","newAvatar","useRef","current","onUpdateAvatar","ref","placeholder","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","ImagePopup","InfoTooltip","isRegisterError","Login","email","password","loginData","setLoginData","handleChange","onLogin","catch","console","log","Register","registerData","setRegisterData","onRegister","onRegisterError","ProtectedRoute","Component","component","to","api","options","this","_options","_getDataFromServer","bind","res","ok","json","Promise","reject","Error","status","jwt","fetch","baseUrl","headers","authorization","then","method","body","JSON","stringify","data","item","cardId","auth","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopUp","setIsImagePopUp","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoggedIn","setEmail","history","useHistory","isInfoTip","setIsInfoTip","setIsRegisterError","localStorage","getItem","all","getUser","getInitialCards","cardsArray","err","push","tokenCheck","closeAllPopups","onSignOut","removeItem","Provider","exact","path","onLogout","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setItem","token","editUser","editAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.19a55c8c.chunk.js","sourcesContent":["import { React } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\n\r\nfunction Header(props) {\r\n\r\n    const location = useLocation();\r\n\r\n    function onClickRegister(evt) {\r\n        evt.preventDefault();\r\n        props.onClickRegister();\r\n\r\n    }\r\n\r\n    function onClickQuit(evt) {\r\n        evt.preventDefault();\r\n        props.onClickQuit();\r\n    }\r\n\r\n    function onClickLogin(evt) {\r\n        evt.preventDefault();\r\n        props.onClickLogin();\r\n    }\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"header__logo\"></div>\r\n            {props.isLoggedIn &&\r\n                (<ul className='header__link-list'>\r\n                    <li><p className=\"header__email\">{props.userEmail}</p></li>\r\n                    <li><a className=\"header__link header__link_color_grey\" onClick={onClickQuit} href=\"/#\" target=\"_blank\">Выход</a></li>\r\n                </ul>)}\r\n            {location.pathname.includes('/signin') &&\r\n                <a className=\"header__link\" onClick={onClickRegister} href=\"/#\" target=\"_blank\">Регистрация</a>}\r\n            {location.pathname.includes('/signup') &&\r\n                <a className=\"header__link\" onClick={onClickLogin} href=\"/#\" target=\"_blank\">Войти</a>}\r\n\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Card(props) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete-button ${isOwn ? 'element__delete-button_active' : ' '}`\r\n    );\r\n    const isLiked = props.card.likes.some(i => i === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `element__like-button ${isLiked ? 'element__like-button_active' : ' '}`\r\n    );\r\n\r\n    const handleLikeClick = () => {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    const handleClick = () => {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    const handleDeleteClick = () => {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"element\">\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n            <img className=\"element__image\" alt={props.card.name} src={props.card.link} onClick={handleClick} />\r\n            <div className=\"element__title-area\">\r\n                <h2 className=\"element__title\">{props.card.name}</h2>\r\n                <div className=\"element__like-area\">\r\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                    <span className=\"element__counter-like\">{props.card.likes.length}</span>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;","import React, { useContext } from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar\">\r\n                    <img className=\"profile__image\" alt=\"Кусто\" src={currentUser.avatar} />\r\n                    <button type=\"button\" className=\"profile__avatar-button\" onClick={props.onEditAvatar}></button>\r\n                </div>\r\n                <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                <h2 className=\"profile__subtitle\">{currentUser.about}</h2>\r\n                <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile}></button>\r\n                <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}></button>\r\n            </section>\r\n            <section className=\"template-elements\">\r\n                <ul className=\"elements\">{\r\n                    props.cards.map((card) => (<Card\r\n                        key={card._id}\r\n                        card={card}\r\n                        onCardClick={props.onCardClick}\r\n                        onCardLike={props.onCardLike}\r\n                        onCardDelete={props.onCardDelete} />)\r\n                    )}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n    return (\r\n        <section className={`popup popup_type_${props.name}  ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"container\">\r\n                <button type=\"button\" className=\"container__button-close\" onClick={props.onClose}></button>\r\n                <h2 className=\"container__title\">{props.title}</h2>\r\n                <form className=\"form\" onSubmit={props.onSubmit} noValidate name={`form-${props.name}`}>\r\n                    {props.children}\r\n                    <button type=\"submit\" className=\"form__button-submit\" >{props.buttonText}</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import { useState, useContext, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const [name, setName] = useState('Кусто');\r\n    const [description, setDescription] = useState('Исследователь');\r\n\r\n    function handleChangeName(evt) {\r\n        setName(evt.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(evt) {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    return (\r\n        <div>\r\n            <PopupWithForm onClose={props.onClose} onSubmit={handleSubmit} isOpen={props.isOpen} title='Редактировать профиль' name='profile' buttonText='Сохранить'>\r\n                <input type=\"text\" value={name} onChange={handleChangeName} name=\"profilename\" id=\"profile-name\" className=\"form__input form__input_type_name\" required minLength=\"2\" maxLength=\"40\" />\r\n                <span className=\"form__input-error profile-name-error\"></span>\r\n                <input type=\"text\" value={description} onChange={handleChangeDescription} name=\"profiledescription\" id=\"profile-description\" className=\"form__input form__input_type_description\" required minLength=\"2\" maxLength=\"200\" />\r\n                <span className=\"form__input-error profile-description-error\"></span>\r\n            </PopupWithForm>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default EditProfilePopup;","import { useRef, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const newAvatar = useRef();\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: newAvatar.current.value\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        newAvatar.current.value = '';\r\n    }, [props.isOpen]);\r\n\r\n    return (\r\n        <div>\r\n            <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} title='Обновить аватар?' name='update-avatar' buttonText='Обновить'>\r\n                <input ref={newAvatar} type=\"url\" name=\"avatarlink\" id=\"avatar-link\" required className=\"form__input form__input_type_avatar-link\" placeholder='Ссылка на аватар' />\r\n                <span className=\"form__input-error avatar-link-error\"></span>\r\n            </PopupWithForm>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import { useState, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [placeName, setPlaceName] = useState('');\r\n    const [placeLink, setPlaceLink] = useState('');\r\n    \r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        props.onAddPlace({\r\n            placeName,\r\n            placeLink,\r\n        });\r\n    }\r\n\r\n    function handleChangePlaceName(evt) {\r\n        setPlaceName(evt.target.value);\r\n    }\r\n\r\n    function handleChangePlaceLink(evt) {\r\n        setPlaceLink(evt.target.value);\r\n    }\r\n\r\n    useEffect(() => {\r\n        setPlaceName('');\r\n        setPlaceLink('');\r\n    }, [props.isOpen]);\r\n\r\n    return (\r\n        <div>\r\n            <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} title='Новое место' name='card-create' buttonText='Добавить'>\r\n                <input type=\"text\" value={placeName} onChange={handleChangePlaceName} name=\"placename\" id=\"place-name\" required className=\"form__input form__input_type_place-name\" placeholder='Название' minLength=\"2\" maxLength=\"30\" />\r\n                <span className=\"form__input-error place-name-error\"></span>\r\n                <input type=\"url\" value={placeLink} onChange={handleChangePlaceLink} name=\"placelink\" id=\"place-link\" required className=\"form__input form__input_type_place-link\" placeholder='Ссылка на картинку' />\r\n                <span className=\"form__input-error place-link-error\"></span>\r\n            </PopupWithForm>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n\r\n    return (\r\n        <section className={`popup popup-preview popup_type_image ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"container\">\r\n                <button type=\"button\" className=\"container__button-close popup-preview__button-close\" onClick={props.onClose}></button>\r\n                <img className=\"container__image\" alt={props.card && `Фотография места ${props.card.name}`} src={props.card && props.card.link} />\r\n                <p className=\"container__caption\">{props.card && props.card.name}</p>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n    return (\r\n        <section className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"container\">\r\n                <button type=\"button\" className=\"container__button-close popup-preview__button-close\" onClick={props.onClose}></button>\r\n                {!props.isRegisterError ?\r\n                <>\r\n                <span className=\"container__image container__image_type_succes\" />\r\n                <p className=\"container__caption-infotip\">Вы успешно зарегистрировались!</p>\r\n                </> :\r\n                <>\r\n                <span className=\"container__image container__image_type_error\" />\r\n                <p className=\"container__caption-infotip\">Что-то пошло не так! Попробуйте ещё раз.</p>\r\n                </>}\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default InfoTooltip;","import { useState } from 'react';\r\n\r\nfunction Login(props) {\r\n\r\n    const [loginData, setLoginData] = useState({\r\n        email: '',\r\n        password: '',\r\n      });\r\n\r\n\r\n    function handleChange(evt) {\r\n        setLoginData({...loginData, [evt.target.name]: evt.target.value })\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onLogin(loginData)\r\n       .catch(() => console.log('Что-то пошло не так'));\r\n    };\r\n\r\n    return (\r\n        <section className='login'>\r\n            <div className=\"container container_type_login\">\r\n                <h2 className=\"container__title container__title_type_login\">Вход</h2>\r\n                <form className=\"form form-profile\" onSubmit={handleSubmit} noValidate name='login'>\r\n                    <input type=\"text\" placeholder='Email' onChange={handleChange} value={loginData.email} name=\"email\" className=\"form__input form__input_type_login\" required minLength=\"2\" maxLength=\"40\" />\r\n                    <span className=\"form__input-error profile-name-error\"></span>\r\n                    <input type=\"password\" placeholder='Пароль' onChange={handleChange} value={loginData.password} name=\"password\" className=\"form__input form__input_type_login\" required minLength=\"2\" maxLength=\"200\" />\r\n                    <span className=\"form__input-error profile-description-error\"></span>\r\n                    <button type=\"submit\" className=\"form__button-submit form__button-submit_type_onsign form__button-submit_type_login\">Войти</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n};\r\n\r\nexport default Login;","import { useState } from 'react';\r\n\r\n\r\nfunction Register(props) {\r\n\r\n    const [registerData, setRegisterData] = useState({\r\n        email: '',\r\n        password: '',\r\n      });\r\n\r\n    function handleChange(evt) {\r\n        setRegisterData({...registerData, [evt.target.name]: evt.target.value })\r\n    }\r\n\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onRegister(registerData)\r\n         .catch(() => props.onRegisterError());\r\n    };\r\n\r\n    function onClickLogin(evt) {\r\n        evt.preventDefault();\r\n        props.onClickLogin();\r\n    }\r\n\r\n\r\n    return (\r\n        <section className='login'>\r\n            <div className=\"container container_type_login\">\r\n                <h2 className=\"container__title container__title_type_login\">Регистрация</h2>\r\n                <form className=\"form\" onSubmit={handleSubmit} noValidate name={`form-${props.name}`} >\r\n                    <input type=\"text\" placeholder='Email' onChange={handleChange} value={registerData.email} name=\"email\" className=\"form__input form__input_type_login\" required minLength=\"2\" maxLength=\"40\" />\r\n                    <span className=\"form__input-error profile-name-error\"></span>\r\n                    <input type=\"password\" placeholder='Пароль' onChange={handleChange} value={registerData.password} name=\"password\" className=\"form__input form__input_type_login\" required minLength=\"2\" maxLength=\"200\" />\r\n                    <span className=\"form__input-error profile-description-error\"></span>\r\n                    <button type=\"submit\" className=\"form__button-submit form__button-submit_type_onsign\">Зарегистрироваться</button>\r\n                </form>\r\n                <a className=\"login__link\" onClick={onClickLogin} href=\"/#\" target=\"_blank\">Уже зарегистрированы? Войти</a>\r\n            </div>\r\n        </section>\r\n    )\r\n};\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n\r\n\r\n  return (\r\n          <Route>\r\n              {\r\n                  () => props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\r\n              }\r\n          </Route>\r\n  );\r\n}; \r\n\r\nexport default ProtectedRoute;","class Api {\r\n    constructor(options) {\r\n        this._options = options;\r\n        this._getDataFromServer = this._getDataFromServer.bind(this);\r\n    }\r\n\r\n    _getDataFromServer(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(new Error('Произошла ошибка с кодом ', res.status));\r\n    };\r\n\r\n\r\n    getUser(jwt) {\r\n        return fetch(this._options.baseUrl + '/users/me', {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            authorization: 'Bearer ' + jwt,\r\n            'Access-Control-Allow-Origin': 'http://localhost:3000',\r\n        }\r\n        }).then(res => { return this._getDataFromServer(res) });\r\n    };\r\n\r\n    editUser(name, about, jwt) {\r\n        return fetch(this._options.baseUrl + '/users/me', {\r\n            method: 'PATCH',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              authorization: 'Bearer ' + jwt,\r\n              'Access-Control-Allow-Origin': 'http://localhost:3000',\r\n          },\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        }).then(res => { return this._getDataFromServer(res) });\r\n    };\r\n\r\n    editAvatar(data, jwt) {\r\n        return fetch(this._options.baseUrl + '/users/me/avatar', {\r\n            method: 'PATCH',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              authorization: 'Bearer ' + jwt,\r\n              'Access-Control-Allow-Origin': 'http://localhost:3000',\r\n          },\r\n            body: JSON.stringify({\r\n                avatar: data\r\n            })\r\n        }).then(res => { return this._getDataFromServer(res) });\r\n    };\r\n\r\n    getInitialCards(jwt) {\r\n        return fetch(this._options.baseUrl + '/cards', {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            authorization: 'Bearer ' + jwt,\r\n            'Access-Control-Allow-Origin': 'http://localhost:3000',\r\n        }\r\n        }).then(res => { return this._getDataFromServer(res) });\r\n    };\r\n\r\n    addCard(item, jwt) {\r\n\r\n        return fetch(this._options.baseUrl + '/cards', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              authorization: 'Bearer ' + jwt,\r\n              'Access-Control-Allow-Origin': 'http://localhost:3000',\r\n          },\r\n            body: JSON.stringify({\r\n                name: item.placeName,\r\n                link: item.placeLink\r\n            })\r\n        }).then(res => { return this._getDataFromServer(res) });\r\n    };\r\n\r\n    deleteCard(cardId, jwt) {\r\n        return fetch(this._options.baseUrl + '/cards/' + cardId, {\r\n            method: 'DELETE',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              authorization: 'Bearer ' + jwt,\r\n              'Access-Control-Allow-Origin': 'http://localhost:3000',\r\n          }\r\n        }).then(res => { return this._getDataFromServer(res) });\r\n    };\r\n\r\n    changeLikeCardStatus(cardId, isLiked, jwt) {\r\n        return fetch(this._options.baseUrl + '/cards/' + cardId + '/likes', {\r\n            method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              authorization: 'Bearer ' + jwt,\r\n              'Access-Control-Allow-Origin': 'http://localhost:3000',\r\n          }\r\n        }).then(res => { return this._getDataFromServer(res) });\r\n    };\r\n\r\n};\r\n\r\n\r\nconst api = new Api({\r\n    baseUrl: 'http://localhost:3000',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;","class Auth {\r\n    constructor(options) {\r\n        this._options = options;\r\n        this._getDataFromServer = this._getDataFromServer.bind(this);\r\n    }\r\n\r\n    _getDataFromServer(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(new Error('Произошла ошибка с кодом ', res.status));\r\n    };\r\n\r\n    onRegister(data) {\r\n        return fetch(this._options.baseUrl + '/signup', {\r\n            headers: this._options.headers,\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                password: data.password,\r\n                email: data.email\r\n            }),\r\n        }).then(res => { return this._getDataFromServer(res) });\r\n    };\r\n\r\n  onLogin(data) {\r\n    return fetch(this._options.baseUrl + '/signin', {\r\n      headers: this._options.headers,\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        email: data.email,\r\n        password: data.password,\r\n      }),\r\n    }).then(res => { return this._getDataFromServer(res) });\r\n  };\r\n\r\n    authorization(data) {\r\n        return fetch(this._options.baseUrl + '/users/me', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                authorization: 'Bearer ' + data,\r\n                'Access-Control-Allow-Origin': 'http://localhost:3000',\r\n            }\r\n        }).then(res => { return this._getDataFromServer(res) });\r\n    }\r\n\r\n};\r\n\r\nconst auth = new Auth({\r\n    baseUrl: 'http://localhost:3000',\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n        'Access-Control-Allow-Origin': 'http://localhost:3000',\r\n    }\r\n});\r\n\r\nexport default auth;","import Header from './Header';\r\nimport Main from './Main';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport { useState, useEffect } from 'react';\r\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api';\r\nimport auth from '../utils/auth';\r\n\r\nfunction App() {\r\n\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n    const [isImagePopUp, setIsImagePopUp] = useState(false);\r\n    const [selectedCard, setSelectedCard] = useState(null);\r\n    const [currentUser, setCurrentUser] = useState({ name: 'Загрузка...', about: 'Загрузка...' });\r\n    const [cards, setCards] = useState([]);\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const [email, setEmail] = useState('');\r\n    const history = useHistory();\r\n    const [isInfoTip, setIsInfoTip] = useState(false);\r\n    const [isRegisterError, setIsRegisterError] = useState(false);\r\n\r\n    useEffect(() => {\r\n      const jwt = localStorage.getItem('jwt');\r\n        Promise.all([api.getUser(jwt), api.getInitialCards(jwt)])\r\n            .then(([data, cardsArray]) => {\r\n                setCurrentUser(data);\r\n                setCards(cardsArray);\r\n            }).catch(err => console.log(err));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isLoggedIn) {\r\n            history.push('/main');\r\n        }\r\n    }, [isLoggedIn]);\r\n\r\n    useEffect(() => {\r\n        tokenCheck();\r\n    }, []);\r\n\r\n    const handleCardClick = (data) => {\r\n        setSelectedCard(data);\r\n        setIsImagePopUp(!isImagePopUp);\r\n    }\r\n\r\n    const handleEditAvatarClick = () => {\r\n        setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n    }\r\n\r\n    const handleEditProfileClick = () => {\r\n        setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n    }\r\n\r\n    const handleAddPlaceClick = () => {\r\n        setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n    }\r\n\r\n    const closeAllPopups = () => {\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsImagePopUp(false);\r\n        setIsInfoTip(false);\r\n    }\r\n\r\n    const handleUpdateUser = (data) => {\r\n      const jwt = localStorage.getItem('jwt');\r\n        api.editUser(data.name, data.about, jwt)\r\n            .then((data) => {\r\n                setCurrentUser(data);\r\n                closeAllPopups();\r\n            }).catch(err => console.log(err));\r\n    };\r\n\r\n    const handleUpdateAvatar = (data) => {\r\n      const jwt = localStorage.getItem('jwt');\r\n        api.editAvatar(data.avatar, jwt)\r\n            .then((data) => {\r\n                setCurrentUser(data);\r\n                closeAllPopups();\r\n            }).catch(err => console.log(err));\r\n    }\r\n\r\n    function handleCardLike(card) {\r\n      const jwt = localStorage.getItem('jwt');\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n        api.changeLikeCardStatus(card._id, !isLiked, jwt).then((newCard) => {\r\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n        }).catch(err => console.log(err));\r\n    }\r\n\r\n    function handleCardDelete(card) {\r\n      const jwt = localStorage.getItem('jwt');\r\n        api.deleteCard(card._id, jwt).then(() => {\r\n            setCards(cards.filter(item => !(item._id === card._id)));\r\n        }).catch(err => console.log(err));\r\n\r\n    };\r\n\r\n    function handleAddPlaceSubmit(card) {\r\n      const jwt = localStorage.getItem('jwt');\r\n        api.addCard(card, jwt).then((newCard) => {\r\n            setCards([newCard, ...cards]);\r\n            closeAllPopups();\r\n        }).catch(err => console.log(err));\r\n\r\n    }\r\n\r\n    function onRegister(registerData) {\r\n        return auth.onRegister(registerData).then(() => {\r\n            setIsRegisterError(false);\r\n            setIsInfoTip(true);\r\n            history.push('/signin');\r\n        });\r\n    }\r\n\r\n    function onRegisterError() {\r\n        setIsRegisterError(true);\r\n        setIsInfoTip(true);\r\n    }\r\n\r\n    function onLogin(loginData) {\r\n        return auth.onLogin(loginData).then((jwt) => {\r\n            localStorage.setItem('jwt', jwt.token);\r\n            tokenCheck();\r\n        });\r\n    };\r\n\r\n    function onSignOut() {\r\n        setIsLoggedIn(false);\r\n        localStorage.removeItem('jwt');\r\n        history.push('/signin');\r\n    };\r\n\r\n    function onClickRegister() {\r\n        history.push('/signup');\r\n    };\r\n\r\n    function onClickLogin() {\r\n        history.push('/signin');\r\n    }\r\n\r\n    function tokenCheck() {\r\n\r\n        const jwt = localStorage.getItem('jwt');\r\n\r\n        if (jwt) {\r\n            auth.authorization(jwt)\r\n                .then((data) => {\r\n                    setEmail(data.email);\r\n                    setIsLoggedIn(true);\r\n                }).catch(err => console.log(err));\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <section className=\"root\">\r\n            <div className=\"page\">\r\n                <CurrentUserContext.Provider value={currentUser}>\r\n                    <Header isLoggedIn={isLoggedIn} userEmail={email} onClickQuit={onSignOut} onClickRegister={onClickRegister} onClickLogin={onClickLogin} />\r\n                    <Switch>\r\n                        <ProtectedRoute\r\n                            exact path=\"/main\"\r\n                            isLoggedIn={isLoggedIn}\r\n                            onLogout={onSignOut}\r\n                            cards={cards}\r\n                            onCardLike={handleCardLike}\r\n                            onCardDelete={handleCardDelete} onCardClick={handleCardClick}\r\n                            onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick}\r\n                            onEditAvatar={handleEditAvatarClick}\r\n                            component={Main}\r\n                        />\r\n                        <Route path=\"/signin\">\r\n                            <Login onLogin={onLogin} />\r\n                        </Route>\r\n                        <Route path=\"/signup\">\r\n                                <Register onRegister={onRegister} onClickLogin={onClickLogin} onRegisterError={onRegisterError} />\r\n                        </Route>\r\n                        <Route exact path=\"/\">\r\n                            {isLoggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/signin\" />}\r\n                        </Route>\r\n                    </Switch>\r\n                    <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\r\n                    <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\r\n                    <AddPlacePopup onAddPlace={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\r\n                    <ImagePopup isOpen={isImagePopUp} card={selectedCard} onClose={closeAllPopups} />\r\n                    <InfoTooltip isOpen={isInfoTip} isRegisterError={isRegisterError} onClose={closeAllPopups} />\r\n                </CurrentUserContext.Provider>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter>\r\n            <App />\r\n        </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}